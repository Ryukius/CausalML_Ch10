"0","# Ensembles"
"0",""
"0","# Best"
"0","# We'll look at model that does best for Y overall. Could also use different model for Y0 and Y1"
"0","# Here, the best performance for Y is the random forest and for D the boosted tree"
"0",""
"0","# residuals"
"0","ytil <- y - dhat_rf"
"0","dtil <- D - dhat_boost"
"0","# doubly robust quantity for every sample"
"0","drhat <- yhat1_rf - yhat0_rf + (y - dhat_rf) * (D / dhat_boost - (1 - D) / (1 - dhat_boost))"
"0","coef_est <- mean(drhat)"
"0","vari <- var(drhat)"
"0","se <- sqrt(vari / nrow(X))"
"0",""
"0","sum_best <- summaryIRM(coef_est, se, ytil, dtil, drhat, name = ""Best"")"
"0","tableirm <- rbind(tableirm, sum_best)"
"0","tableirm"
